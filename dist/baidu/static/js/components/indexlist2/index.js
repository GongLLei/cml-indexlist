var __CML__GLOBAL=require("../../manifest.js");__CML__GLOBAL.webpackJsonp([7],{78:function(t,e,n){n(79),n(80)},79:function(t,e){},80:function(t,e,n){function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(o,r){try{var u=e[o](r),a=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}return i("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(17),a=i(u),s=n(18),c=i(s),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(1),p=i(h),l=90,m=100,d=function(){function t(){r(this,t),this.props={dataList:{type:Array,default:[]}},this.data={list:[],shortcut:[],viewportHeight:0,offsetTop:0,activeIndex:0,itemContentHeight:m,itemNameHeight:l},this.computed={compScwStyle:function(){return"top:"+this.viewportHeight/2+"cpx"},compItemNameHeight:function(){return"height:"+this.itemNameHeight+"cpx"},compItemContentHeight:function(){return"height:"+this.itemContentHeight+"cpx"}},this.methods={getViewportHeight:function(){var t=this;return o(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)();case 2:n=e.sent,t.viewportHeight=n.viewportHeight;case 4:case"end":return e.stop()}},e,t)}))()},initData:function(){var t=this;this.dataList.forEach(function(e){if(e.pinYin){var n=e.pinYin.substring(0,1);e.pinYin&&-1===t.shortcut.indexOf(n.toUpperCase())&&t.shortcut.push(n.toUpperCase())}});var e=this.shortcut.map(function(t){return{items:[],name:t}});this.dataList.forEach(function(n){var i=n.pinYin.substring(0,1).toUpperCase(),o=t.shortcut.indexOf(i);e[o].items.push(n)}),e.forEach(function(n,i){var o=e.slice(0,i);n.totalHeight=t.itemNameHeight+n.items.length*t.itemContentHeight,n.offsetTop=o.reduce(function(e,n){return e+t.itemNameHeight+n.items.length*t.itemContentHeight},0)}),this.list=e},scrollToItem:function(t){var e=this.list.find(function(e){return e.name===t}),n=e.offsetTop;this.offsetTop=n},handleScroll:function(t){var e=t.detail.scrollTop;e=Math.ceil(e),this.activeIndex=this.list.findIndex(function(t){return e>=t.offsetTop&&e<t.totalHeight+t.offsetTop})},handleSelect:function(t){this.$cmlEmit("onselect",t)}}}return f(t,[{key:"mounted",value:function(){this.initData(),this.getViewportHeight()}}]),t}();e.default=new d,e.default=p.default.createComponent(e.default).getOptions()}},[78]);